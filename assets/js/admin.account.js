(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{KRz9:function(e,s,t){"use strict";t.r(s);t("QWBl"),t("oVuX"),t("zKZe"),t("T63A"),t("07d7"),t("5s+n"),t("p532"),t("FZtP");var r=t("L2JU"),a=t("sndj"),i={name:"Account",data:function(){return{m_user:null,process:!1}},computed:{user:{get:function(){var e=this.$store.getters["auth/user"];return e&&(this.m_user=e.getAttributes()),this.m_user||this.$store.getters["auth/user"]||{email:"",password:""}},set:function(e){this.m_user=e}},auth:function(){return this.$store.getters["auth/user"]}},methods:Object.assign(Object.assign({},Object(r.b)({updateUser:"auth/updateUser"})),{},{submit:function(){var e=this;if(this.auth)if(this.auth.admin){var s=[];if(Object.entries(this.user).forEach((function(e){Object(a.g)(e[1])&&s.push(e[0])})),s.length>0){var t=s.length>1?"fields were":"field is",r=s.join(", ");Object(a.k)(r+" "+t+" invalid. Only text is allowed.")}else this.process=!0,console.log(this.user),Object(a.a)("user/edit","post",this.user).then((function(s){Object(a.k)("User Updated","success"),e.updateUser(s.data.user)})).catch((function(e){Object(a.k)(e.response.data.error||"Something went wrong","error")})).finally((function(){e.process=!1}))}else Object(a.k)("Permission Denied!","error")}})},n=t("KHd+"),o=Object(n.a)(i,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"card setting-card"},[t("form",{on:{submit:function(s){return s.preventDefault(),e.submit(s)}}},[t("h3",{staticClass:"with-button"},[e._v("\n            Admin Account\n            "),t("button",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"style-none add-button",attrs:{type:"submit",disabled:e.process}},[e._v("\n                "+e._s(e.process?"Saving":"Save")+"\n                "),t("i",{staticClass:"space fas",class:e.process?"fa-spinner fa-spin":"fa-save"})])]),e._v(" "),t("div",{staticClass:"form-control"},[t("label",{attrs:{for:"email"}},[e._v("Email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],attrs:{type:"email",id:"email",placeholder:"Admin Email",required:"",autocomplete:"email",autofocus:""},domProps:{value:e.user.email},on:{input:function(s){s.target.composing||e.$set(e.user,"email",s.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-control mt"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password",placeholder:"Admin Password",autocomplete:"password"},domProps:{value:e.user.password},on:{input:function(s){s.target.composing||e.$set(e.user,"password",s.target.value)}}})])])])}),[],!1,null,null,null);s.default=o.exports}}]);